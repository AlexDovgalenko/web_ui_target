{% extends "base.html" %}

{% block content %}
{% if is_logged_in %}
    <div class="articles-container">
        {% if search_query %}
            <h2>Search Results for "{{ search_query }}"</h2>
            {% if articles %}
                <p>Found {{ articles|length }} article(s)</p>
            {% else %}
                <p>No articles found matching your search.</p>
            {% endif %}
        {% else %}
            <h2>Programming Articles</h2>
        {% endif %}
        
        {% if articles %}
            <div class="articles-grid">
                {% for article in articles %}
                    <article class="article-card">
                        <h3>{{ article.title }}</h3>
                        <p>{{ article.content }}</p>
                    </article>
                {% endfor %}
            </div>
        {% endif %}
    </div>
{% else %}
    <div class="welcome-container">
        <h2>Welcome to Programming Articles</h2>
        <p>Please log in to view our collection of programming articles.</p>
        <div class="welcome-actions">
            <a href="{{ url_for('login') }}" class="btn btn-primary">Log In</a>
            <a href="{{ url_for('signup') }}" class="btn btn-secondary">Sign Up</a>
        </div>
    </div>
{% endif %}
{% endblock %}
